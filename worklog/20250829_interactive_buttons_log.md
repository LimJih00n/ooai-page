# 2025년 8월 29일 인터랙티브 버튼 기능 구현 및 레이아웃 문제 해결 로그

## 목표

-   `InteractiveFeatureShowcase` 컴포넌트의 "라이브 데모" 버튼과 "코드 보기" 버튼에 실제 기능을 연결한다.
-   기능 추가 후 발생한 버튼 레이아웃 문제를 해결하여 기존 디자인을 복원한다.

## 작업 절차 및 결과

### 1. "라이브 데모" 버튼 기능 구현
-   **요구사항**: 버튼 클릭 시 `/demo` 페이지로 이동해야 함.
-   **작업 내용**:
    1.  `InteractiveFeatureShowcase.tsx` 파일에 Next.js의 `<Link>` 컴포넌트를 import 했다.
    2.  기존의 `<Button>` 컴포넌트를 `<Link href="/demo">` 컴포넌트로 감쌌다.
-   **결과**: 버튼 클릭 시 데모 페이지로 정상적으로 이동하는 기능을 구현했다.

### 2. "코드 보기" 버튼 기능 구현
-   **요구사항**: 버튼 클릭 시 데모의 핵심 로직 코드를 보여주는 모달 창이 나타나야 함.
-   **작업 내용**:
    1.  **`CodeModal.tsx` 컴포넌트 생성**: 코드 내용을 표시하는 재사용 가능한 모달 컴포넌트를 `components/demo/` 디렉토리에 새로 생성했다. `framer-motion`을 사용하여 부드러운 등장/사라짐 효과를 구현했다.
    2.  **상태 관리**: `InteractiveFeatureShowcase.tsx`에 `useState`를 사용하여 모달의 열림/닫힘 상태(`isModalOpen`)를 관리하도록 했다.
    3.  **코드 내용 전달**: 데모의 핵심 로직이 담긴 `DemoContainer.tsx`의 소스 코드를 `demoCode`라는 상수에 문자열 형태로 저장하여, `CodeModal`에 `code` prop으로 전달했다.
    4.  **이벤트 핸들러 연결**: "코드 보기" 버튼의 `onClick` 이벤트에 `setIsModalOpen(true)`를 연결하여 모달을 열도록 했다.
-   **결과**: "코드 보기" 버튼 클릭 시 소스 코드가 포함된 모달 창이 정상적으로 나타나는 기능을 구현했다.

### 3. 버튼 레이아웃 문제 발생 및 해결 과정
-   **문제 발생**: "라이브 데모" 버튼에 `<Link>` 태그를 추가한 후, 두 버튼("라이브 데모", "코드 보기")이 차지하는 너비가 달라져 기존의 균등한 레이아웃이 깨졌다.

-   **1차 해결 시도 (실패)**:
    -   **시도**: `<Link>`에서 `flex-1` 클래스를 제거하고, 내부의 `<Button>`에 `flex-1`을 추가했다.
    -   **결과**: 문제가 해결되지 않았다. `flex` 컨테이너의 직계 자식 요소가 스타일을 받아야 한다는 점을 간과했다.

-   **2차 해결 시도 (실패)**:
    -   **시도**: `<Link>`에 `flex-1`을 다시 추가했다.
    -   **결과**: 여전히 문제가 해결되지 않았다. Next.js의 `<Link>` 컴포넌트가 스타일 클래스를 내부 `<a>` 태그로 전달하는 방식의 미묘한 차이로 인해 발생한 문제로 추정되었다.

-   **최종 해결 (성공)**:
    -   **시도**: Next.js에서 링크에 스타일링 문제를 해결하는 표준적인 방법인 `legacyBehavior` 속성을 사용했다.
    -   **구현**:
        ```tsx
        <Link href="/demo" passHref legacyBehavior>
          <a className="flex-1">
            <Button className="w-full group" ...>
              라이브 데모
            </Button>
          </a>
        </Link>
        ```
    -   **결과**: `<Link>`가 `<a>` 태그를 명시적으로 렌더링하도록 하여 `flex-1` 스타일이 올바르게 적용되었다. 이로써 두 버튼은 다시 동일한 너비를 차지하게 되어 **이전의 정상적인 위치로 완벽하게 복원**되었다.

## 결론 및 교훈

-   Next.js의 `<Link>` 컴포넌트에 직접적인 레이아웃 스타일(특히 Flexbox/Grid)을 적용할 때 문제가 발생하면, `legacyBehavior` 속성과 `<a>` 태그를 함께 사용하는 것이 가장 안정적인 해결책이다.
-   기능 구현 후에는 반드시 기존 UI가 깨지지 않았는지 시각적으로 꼼꼼히 확인하는 절차가 필요하다.
-   모든 관련 작업 내용은 Git 커밋 로그에 분산되어 기록되었으며, 이 문서는 특히 레이아웃 문제 해결 과정을 중심으로 정리하여 향후 유사 문제 발생 시 참고 자료로 활용할 수 있도록 한다.
